############################ 引用目录 ########################################
-include ../dirs.mk
include  ../config.mk
include  ../toolchain.mk

# 编译参数
CFLAGS  += -o
LDFLAGS += -L../mcompat_drv -lmcompat_drv -lpthread -Wl,-rpath /lib
##############################################################################

############################### 目录 ##########################################
# 通用目录
APP_PATH     = $(SRC_DIR)/app
MISC_PATH    = $(SRC_DIR)/misc
MODULE_PATH  = $(SRC_DIR)/module
PLT_PATH     = $(SRC_DIR)/platform
ZYNQ_PATH    = $(SRC_DIR)/zynq

VPATH        = $(APP_PATH)
##############################################################################

############################## C编文件 #######################################

# 需要编译的c文件
C_FILES      = dm_test.c
##############################################################################

############################# inc目录 #########################################
INCLUDE += -I$(SRC_DIR) -I$(MISC_PATH) -I$(MODULE_PATH) -I$(PLT_PATH) \
	   -I$(ZYNQ_PATH)
##############################################################################

########################### 构建依赖关系 ##################################### 
OBJ     = $(patsubst %.c,$(OBJ_DIR)/%.o,$(C_FILES))
LINT_F  = $(patsubst %.c,$(OBJ_DIR)/%.lint,$(C_FILES))
##############################################################################

############################### 目标 ########################################
TARGET=dm_test
##############################################################################

all: $(TARGET)

install:
	@echo [Install... $(TARGET)]
	$(QUIET)$(CP) $(TARGET) $(RELEASE_BIN_DIR)

-include ../common.mk

